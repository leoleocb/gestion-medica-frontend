<div class="container mt-4">
  <h3 class="mb-3 text-primary">ðŸ“‚ Expedientes Globales</h3>

  <div *ngIf="loading" class="alert alert-info">Cargando expedientes...</div>
  <div *ngIf="!loading && expedientes.length === 0" class="alert alert-warning">
    No hay expedientes registrados.
  </div>

  <div *ngFor="let e of expedientes" class="card mb-3">
    <div class="card-body">
      <h5 class="card-title">ðŸ‘¤ {{ e.nombrePaciente }}</h5>
      <p><strong>DNI:</strong> {{ e.numeroIdentificacion }}</p>
      <p><strong>Fecha Nacimiento:</strong> {{ e.fechaNacimiento }}</p>

      <h6>Alergias</h6>
      <ul>
        <li *ngFor="let a of e.alergias">{{ a.nombre }} - {{ a.descripcion }}</li>
      </ul>

      <h6>Enfermedades</h6>
      <ul>
        <li *ngFor="let en of e.enfermedades">{{ en.nombre }} - {{ en.descripcion }}</li>
      </ul>

      <h6>Citas</h6>
      <table class="table table-sm">
        <thead>
          <tr>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Motivo</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of e.citas">
            <td>{{ c.fecha }}</td>
            <td>{{ c.hora }}</td>
            <td>{{ c.motivo }}</td>
            <td>{{ c.estado }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
