<div class="container mt-4 col-md-8">
  <h3 class="mb-3 text-primary">ðŸ’Š Emitir Receta</h3>

  <button class="btn btn-outline-primary mb-3" (click)="agregarItem()">+ Agregar Medicamento</button>

  <form (ngSubmit)="guardarReceta()">
    <div *ngFor="let item of recetaItems; let i = index" class="row g-2 mb-2">
      <div class="col-md-4">
        <select [(ngModel)]="item.medicamentoId" name="medicamento{{i}}" class="form-select" required>
          <option [ngValue]="0">Seleccione medicamento</option>
          <option *ngFor="let m of medicamentos" [ngValue]="m.id">{{ m.nombre }}</option>
        </select>
      </div>
      <div class="col-md-3"><input type="text" [(ngModel)]="item.dosis" name="dosis{{i}}" class="form-control" placeholder="Dosis" required></div>
      <div class="col-md-3"><input type="text" [(ngModel)]="item.frecuencia" name="frecuencia{{i}}" class="form-control" placeholder="Frecuencia" required></div>
      <div class="col-md-2 d-grid"><button type="button" class="btn btn-danger" (click)="eliminarItem(i)">Eliminar</button></div>
    </div>

    <button class="btn btn-success w-100 mt-3">Guardar Receta</button>
  </form>
</div>
